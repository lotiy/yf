<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="render" content="webkit">
    <meta http-equiv="X-UA-Compatibe" content="IE=edge,chrome=1">
</head>
<script src="../static/libs/jquery-1.11.1.min.js"></script>
<script>
//js函数定义有一特点：它会先扫描整个函数体的语句，把所有申明的变量“提升”到函数顶部：
function foo(){
    var x='Hello,'+y;
    console.log(x); //Hello,underfind
    var y='Bob';
}//原因在于js自动提升了变量y的声明，但是不会提升变量y的赋值！！！
foo();

//同样的代码，js引擎看到的如下：
function foo(){
    var y;//提升变量y的声明，所以此时的y为underfind
    var x='Hello,'+y;
    console.log(x); //Hello,underfind
    var y='Bob';
}

//解决办法
//请严格遵守“在函数内部首先申明所有变量”这一规则。最常见的做法是用一个var申明函数内部用到的所有变量：
function foo() {
    var
        x = 1, // x初始化为1
        y = x + 1, // y初始化为2
        z, i; // z和i为undefined
    // 其他语句:
    for (i=0; i<100; i++) {
        ...
    }
}
</script>
</html>